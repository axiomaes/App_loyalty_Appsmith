{
  "animateLoading": true,
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "bottomRow": 28,
  "boxShadow": "none",
  "buttonColor": "{{appsmith.theme.colors.primaryColor}}",
  "dynamicBindingPathList": [
    {
      "key": "buttonColor"
    },
    {
      "key": "borderRadius"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onCodeDetected"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onCodeDetected"
    }
  ],
  "flexVerticalAlignment": "start",
  "isDefaultClickDisabled": true,
  "isDisabled": false,
  "isLoading": false,
  "isRequired": false,
  "isVisible": true,
  "key": "ehum48vhx7",
  "label": "Scan a QR/Barcode",
  "leftColumn": 15,
  "mobileBottomRow": 33,
  "mobileLeftColumn": 13,
  "mobileRightColumn": 38,
  "mobileTopRow": 0,
  "needsErrorInfo": false,
  "onCodeDetected": "{{\n(async () => {\n  // evita dobles lecturas rápidas\n  if (appsmith.store._qr_busy) return;\n\n  const text =\n    ScannerQR?.text ||        // nombre del widget: cámbialo si es distinto\n    ScannerQR?.code ||        // en algunas versiones se llama \"code\"\n    \"\"; \n  if (!text.trim()) return;\n\n  // Debounce: evita repetir el mismo QR 2s\n  const last = appsmith.store._qr_last || \"\";\n  if (last === text) return;\n\n  await storeValue(\"_qr_busy\", true);\n  await storeValue(\"_qr_last\", text);\n\n  try {\n    await VisitAdd.fromQr(text);   // ← registra directo (con regla 48h y chequeo VIP)\n  } catch (e) {\n    showAlert(e?.message || \"No se pudo registrar desde QR.\", \"error\");\n  } finally {\n    // libera bloqueo tras 2s para evitar múltiples disparos\n    setTimeout(() => storeValue(\"_qr_busy\", false), 2000);\n  }\n})();\n}}\n\n",
  "parentColumnSpace": 9.5906982421875,
  "parentId": "5qifily6af",
  "parentRowSpace": 10,
  "placement": "CENTER",
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 52,
  "scannerLayout": "CLICK_TO_SCAN",
  "topRow": 1,
  "type": "CODE_SCANNER_WIDGET",
  "version": 1,
  "widgetId": "wzgu34t2hg",
  "widgetName": "Scan_QR"
}